@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap');


.projects{   
 background-color: $color-grey;

 &__container{
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1.6;

    & .container{
        position:relative;
        max-width: 1100px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
        padding: 30px;
    
    }
    
    & .card {
        color: $card-clr-neutral-100;
        // background-image: url(../img/img1.jpeg);
        background-size: cover;
        padding: 10rem 0 0;
        max-width: 35ch;/* 35 characters wide responsive to font size */
        border-radius: 0.5rem;
        overflow: hidden;/* solves the square corners on bottom from the overlay*/
        
        transition:transform 500ms ease;
        

        &:hover,
        &:focus-within {
            transform: scale(1.05);
        }
        
        &-content{
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: $padding;
            background: linear-gradient(
                hsla(0, 0%, 0%, 0),
                hsla(0, 0%, 0%, 0.3) 20%,
                hsla(0, 0%, 0%, 1)
            );/* amazing trick for a partial overlay over image for the text to show*/
     
        }
        &-title{
            position: relative;
            width: max-content; /* dangerous with more than 1 line of text */

            &::after{
                box-sizing: border-box;
                content: "";
                position: absolute;
                height: 4px;
                left: calc(#{$padding} * -1);
                /* this moves the line from the start of the card ignoring the padding we set for it */
                bottom: -2px;
                width:calc(100% + #{$padding});
                /* this makes the line as big as the content of the title */
                background: $card-clr-accent-400;
            
                transform-origin: left;/* since it was animating from the center this tells it where to start  */
                transition:  transform 500ms ease;
            }
        
        }
        &-body{
         color: rgba(255, 255, 255, 0.9); /* lighten the text not sure of browser support */
        }
        & .button{
            cursor: pointer;
            display: inline;
            max-width: 150px;
            text-decoration: none;
            color: $card-clr-neutral-900;
            background-color: $card-clr-accent-400;
            padding:0.5rem 1.25rem;
            text-align: center;
            border-radius: 1rem;

            &:hover,
            &:focus{
               background-color: $card-clr-neutral-100;
           }
        }
        
    }
    .card:hover .card-title::after,
    .card:focus-within .card-title::after{
        box-sizing: border-box;
        transform: scaleX(1);
    }
    
}
}


@mixin for-hover-options {
    @media (hover) { @content; }
}

@media(hover){
 .card-content{
   transform: translateY(65%);/* moves content down so we can pop it up with animation later */
   transition: transform 500ms ease;
  }

 .card:hover .card-content,
 .card:focus-within .card-content {
  transform: translateY(0%);
  transition-delay: 500ms;
 }

 .card:focus-within .card-content{
    transition-duration: 0ms; /*not sure if this is needed for chrome*/
    }

 .card-content > *:not(.card-title){
    opacity:0;
    transition: opacity 500ms linear;
    }

 .card:hover .card-content > *,
 .card:focus-within .card-content > * {
    opacity: 1;
    transition-delay: 700ms;
}
 .card-title::after{
   box-sizing: border-box;
   transform: scaleX(0);
  }

}